_min_copier_version: "9.5.0"
_subdirectory: template

_exclude:
  - "{% if not include_github_actions %}.github{% endif %}"
  # In monorepo mode, exclude the standalone src/ and tests/ dirs (root only)
  - "{% if project_type == 'monorepo' %}/src{% endif %}"
  - "{% if project_type == 'monorepo' %}/tests{% endif %}"

# ── Questions ───────────────────────────────────────────────────────────

project_name:
  type: str
  help: "Project name (e.g. my-platform or my-library)"
  validator: "{% if not project_name %}Required{% endif %}"

project_type:
  type: str
  help: "What are you creating?"
  default: "standalone"
  choices:
    "Standalone project (single package)": standalone
    "Monorepo (multiple packages in one repo)": monorepo

# For standalone mode: the single module name
module_name:
  type: str
  help: "Python module name (e.g. my_project)"
  default: "{{ project_name | lower | replace('-', '_') | replace(' ', '_') }}"
  when: "{{ project_type == 'standalone' }}"

# For monorepo mode: list of package names
packages:
  type: yaml
  help: |
    List of package names as a YAML list.
    Example: [core, api, workers]
    Each becomes a top-level directory with its own src/, tests/, etc.
  when: "{{ project_type == 'monorepo' }}"
  default: null
  validator: "{% if project_type == 'monorepo' and packages is not none and packages | length == 0 %}At least one package is required{% endif %}"

description:
  type: str
  help: "Short project description"
  default: ""

author_name:
  type: str
  help: "Author name"
  default: ""

author_email:
  type: str
  help: "Author email"
  default: ""
  validator: "{% if author_email and '@' not in author_email %}Must be a valid email address (or leave empty).{% endif %}"

python_version:
  type: str
  help: "Minimum Python version"
  default: "3.12"
  choices:
    - "3.11"
    - "3.12"
    - "3.13"
    - "3.14"

license:
  type: str
  help: "License"
  default: "MIT"
  choices:
    - "MIT"
    - "Apache-2.0"
    - "Proprietary"

include_github_actions:
  type: bool
  help: "Include GitHub Actions CI workflow?"
  default: true
